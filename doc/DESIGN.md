# DESIGN Document for cell_society
## NAME(s)
- Juhyoung Lee (jl840)
- Kathleen Chen (kc387)
- Jessica Yang (jqy2)
- Kenneth Moore III (km460)

## Role(s)
* Model:
    * Cell: Jessica
    * Grid: Juhyoung
* Controller (XML): Kenneth
* View: Kathleen

## Design Goals
* Design to support new game variations
* Easy to add new tesselation shapes
* Intuitive UI that allows users to interact with the simulation
* Errors throw exceptions instead of crashing
* XML input support


## High-Level Design
* Model
    * HelperGrid: Builds grid
    * Grid: Contains cell position and states
    * Cell: Specific implementation for each simulation, under each child class
* Controller (sort of)
    * Simulation: turns the data in the XML into an object that can be accessed 
    * createXMl: makes an XML file out of the current state of the simulation
* View
    * ButtonBuilder: Creates buttons and sets their actions
    * GridBuilder: Holds basic information of building/updating visual grid (extends to different shapes)
    * ErrorMessage: Displays error message passe from Control
    * ScreenControl: Holds main content about building screen seen by viewer and constructs graph and change settings screens


## Assumptions or Simplifications
* All the simulations used rules as described in the prepareNewState javadoc of each Cell
    * ForagingAnts will have the HOME cell in the top left corner of the grid
    * Byl's Loop will only work with a specific set of initial configurations, and with square tesselations with 4 neighbors
    * Implemented SugarScape models are presets 1 and 2
    * SugarScape cell colors don't change based on the patchSugar value
    * SugarScape agent vision limited to max number of neighbors
* View Assumptions/Notes
    * Grid would pass in an Integer List of cells to the ScreenControl class
    * The add simulation button would simply create a new Control() which would create a new screen
    * All information passed to ScreenControl from the grid and xml parsing are valid (does not check for exceptions in front end stuff)
    * Screen size is hard coded and cannot be changed by the user
* XML
    * the default setting does not nescacarily work with all simulations (4 and square)
    * User will follow our XML guidelines:
        * User manually inputs the states, and it is not autogenerated from a random seed
    * assume user nows how to format a correct XML file
    * needs to know the appropriate matches for neighborhood size and shape
    * needs to know reasonable paramater values for the simulation to be active


## Changes from the Plan
* Grid -> Grid + HelperGrid + GameTypeGrid
    * HelperGrid was implemented to separate grid building and grid updating
    * Grid became abstract
    * implementations correspond to a game type
* CellAutomata -> Control + Simulation
    * CellAutomata originally handled both the running of the simulation and the XML parsing. It's been since been split up into two classes that handle each of the responsibilities.
* Game -> ScreenControl, Simulation
    * Game originally handled the grid creation, and GUI handling. It has been split into Simulation and ScreenControl that handle each of the responsibilities.

## How to Add New Features
* New game variation
    * Extend Cell and Grid to create appropriate classes.
        * Update rules should be in the Cell class.
        * Neighbor finding rules should be in the Grid class.
    * Add colors to correspond with states in the css file
    * Add new game to Control switch statement
    * Add XML file to run
* New shape tesselation
    * Extend GridBuilder to create appriopriate class.
    * Add additional option to createGrid in ScreenControl

